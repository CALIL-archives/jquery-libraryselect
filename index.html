<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Library System Picker</title>
        <!-- jQuery -->
        <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <!-- Bootstrap3 -->
        <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
        <!-- X-editable -->
        <link href="//cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.0/bootstrap3-editable/css/bootstrap-editable.css" rel="stylesheet"/>
        <script src="//cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.0/bootstrap3-editable/js/bootstrap-editable.min.js"></script>
        <script src="js/jquery-librarysystempicker.js"></script>
        <script>
        $(document).ready(function () {
            $.fn.editable.defaults.mode = 'inline';
            $.fn.editable.defaults.emptytext = '未記入';
//            $.fn.editable.defaults.onblur = 'submit';
//            $.fn.editable.defaults.url = '/preference/post';
            $('#account_name').editable({type: 'text',pk:0});
            $('#own_systemid').editable({type: 'text',pk:0});
        });
        $(function(){
//            $(document).on('change keydown', '.editable-input input', function(){
//                console.log($(this).val());
//            });
            $('.editable-input input').librarysystempicker(function(){
                console.log($('.editable-input input').val());
            });
        });
        </script>
    </head>
    <body>
        <h1>Library System Picker</h1>
        <p>
            <a href="#" id="account_name" data-params="{csrfmiddlewaretoken:'ovy5xJS0PV8CVjEFTbz15nGxqNPctvXc'}">カーリル図書館</a>
        </p>
        <p>
            <a href="#" id="own_systemid" data-params="{csrfmiddlewaretoken:'ovy5xJS0PV8CVjEFTbz15nGxqNPctvXc'}">Gifu_Nakatsugawa</a>
        </p>
    </body>
</html>